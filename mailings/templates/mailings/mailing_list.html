{% extends 'mailings/mailings_base.html' %}


{% block content %}
    {#    <div class="col-3">#}
    {#        <form method="post" id="category_filter_form">#}
    {#            {% csrf_token %}#}
    {# Category #}
    {#            <div class="mb-3">#}
    {#                <label for="product_category" class="form-label">Категория</label>#}
    {#                <select class="form-select" id="product_category" name="category" form="category_filter_form" required>#}
    {#                    <option value="0">Все</option>#}
    {#                    {% for category in categories %}#}
    {#                        <option value="{{ category.pk }}"#}
    {#                                {% if category.pk == selected_category_pk %}selected{% endif %}>{{ category.name }}</option>#}
    {#                    {% endfor %}#}
    {#                </select>#}
    {#            </div>#}
    {#            <input type="submit" value="Фильтровать">#}
    {#        </form>#}
    {#    </div>#}


    <div class="table-responsive small">
        <table class="table table-striped table-sm">
            <thead>

            <tr>
                <th scope="col">Название</th>
                <th scope="col">Периодичность</th>
                <th scope="col">Начало</th>
                <th scope="col">Завершение</th>
                <th scope="col">Статус</th>
                <th scope="col">Действия</th>
            </tr>
            </thead>
            <tbody>

            {% for object in object_list %}
                <tr>
                    <td>{{ object.name }}</td>
                    <td>{{ object.period }}</td>
                    <td>{{ object.start_time }}</td>
                    <td>{{ object.end_time }}</td>
                    <td>{{ object.get_status_display }}</td>
                    <td>
                        <ul class="list-unstyled mb-0 d-flex justify-content-end">
                            <li class="mx-auto"><a href="{% url 'mailings:mailing_start' object.pk %}"
                                                   class="text-primary" data-toggle="tooltip" title=""
                                                   data-original-title="start"><i class="fa-solid fa-play"
                                                                                  style="color: #00f900;"></i></a></li>
                            <li class="mx-auto"><a href="{% url 'mailings:mailing_stop' object.pk %}"
                                                   class="text-primary" data-toggle="tooltip" title=""
                                                   data-original-title="stop"><i class="fa-solid fa-stop"></i></a></li>
                            <li class="mx-auto"><a href="{% url 'mailings:mailing_edit' object.pk %}" class="text-info"
                                                   data-toggle="tooltip" title="edit" data-original-title="Edit"><i
                                    class="fas fa-pencil-alt"></i></a></li>
                            <li class="mx-auto"><a href="{% url 'mailings:mailing_delete' object.pk %}"
                                                   class="text-danger" data-toggle="tooltip" title=""
                                                   data-original-title="Delete"><i class="fa-solid fa-trash"
                                                                                   style="color: #ff4013;"></i></a></li>
                        </ul>
                    </td>
                </tr>


            {% endfor %}


            </tbody>
        </table>
    </div>
    <div class="row">
        <div class="col-2 my-2"><a href="{% url 'mailings:mailing_create' %}" class="btn btn-primary">Добавить
            рассылку</a>
        </div>
    </div>
{% endblock %}